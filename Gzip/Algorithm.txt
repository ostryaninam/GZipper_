Сжатие:
1. Потоки сбрасывавают все в коллекцию. Можно сделать ее BlockingCollection, 
чтобы лочила потоки, если они тащат/дают уже не те блоки (хранит индексы и indexresidue)
2. Из коллекции все время тащит пишущий в файл поток.
3. Данные каждого блока записывать в начало сета блоков как индекс/длина и считывать блоками, 
прыгая по порядку
Расжатие:
1. Так же поблочно считывается из файла
2. Блоки пихаются в коллекцию
3. 